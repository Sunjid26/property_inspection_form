<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Property Walkthrough Inspection</title>
    
    <link rel="stylesheet" href="style.css" />
</head>
<body>
    <div class="container">
        <div class="form-header fade-in">
            <h1>Property Inspection</h1>
            <p>Comprehensive Walkthrough Checklist</p>
        </div>

        <div class="form-container fade-in">
            <div class="progress-bar" id="progressBar"></div>
            
            <div class="form-content">
                <div class="completion-stats" id="completionStats" style="display: none;">
                    <div class="stat">
                        <div class="stat-number" id="completedCount">0</div>
                        <div class="stat-label">Completed</div>
                    </div>
                    <div class="stat">
                        <div class="stat-number" id="totalCount">0</div>
                        <div class="stat-label">Total Items</div>
                    </div>
                    <div class="stat">
                        <div class="stat-number" id="progressPercent">0%</div>
                        <div class="stat-label">Progress</div>
                    </div>
                </div>

                <form id="inspectionForm">
                    <!-- Property Information -->
                    <div class="section">
                        <div class="section-header">
                            <div class="section-icon">üìã</div>
                            <h2>Property Information</h2>
                        </div>
                        
                        <div class="form-grid">
                            <div class="form-group required-field">
                                <label for="inspectionDate">Inspection Date:</label>
                                <input type="date" id="inspectionDate" name="inspectionDate" required>
                                <div class="error-message">Please select an inspection date</div>
                            </div>
                            
                            <div class="form-group required-field">
                                <label for="propertyAddress">Property Address:</label>
                                <input type="text" id="propertyAddress" name="propertyAddress" placeholder="Enter full property address" required readonly>
                                <div class="error-message">Please enter the property address</div>
                            </div>
                            
                        <div class="form-group required-field">
                            <label for="bedrooms">Number of Bedrooms:</label>
                            <input type="number" id="bedrooms" name="bedrooms" min="1" max="10" 
                                onchange="generateRoomSections()" placeholder="Enter number" required readonly>
                            <div class="error-message">Please enter the number of bedrooms</div>
                        </div>
                            
                        <div class="form-group required-field">
                            <label for="bathrooms">Number of Bathrooms:</label>
                            <input type="number" id="bathrooms" name="bathrooms" min="1" max="10" 
                                onchange="generateRoomSections()" placeholder="Enter number" required readonly>
                            <div class="error-message">Please enter the number of bathrooms</div>
                        </div>

                        </div>
                    </div>

                    <!-- General Property Checklist -->
                    <div class="section">
                        <div class="section-header">
                            <div class="section-icon">üè†</div>
                            <h2>General Property Checklist</h2>
                        </div>
                        
                        <div class="form-grid">
                            <div class="form-group">
                                <label>Property has door locks?</label>
                                <div class="radio-group">
                                    <div class="radio-option">
                                        <input type="radio" name="doorLocks" value="yes">
                                        <span class="radio-label">‚úÖ Yes</span>
                                    </div>
                                    <div class="radio-option">
                                        <input type="radio" name="doorLocks" value="no">
                                        <span class="radio-label">‚ùå No</span>
                                    </div>
                                    <div class="radio-option">
                                        <input type="radio" name="faucetsWork" value="na">
                                        <span class="radio-label">‚ûñ N/A</span>
                                    </div>
                                </div>
                            </div>

                            <div class="form-group">
                                <label>Appliances turn on?</label>
                                <div class="radio-group">
                                    <div class="radio-option">
                                        <input type="radio" name="appliancesWork" value="yes">
                                        <span class="radio-label">‚úÖ Yes</span>
                                    </div>
                                    <div class="radio-option">
                                        <input type="radio" name="appliancesWork" value="no">
                                        <span class="radio-label">‚ùå No</span>
                                    </div>
                                    <div class="radio-option">
                                        <input type="radio" name="appliancesWork" value="na">
                                        <span class="radio-label">‚ûñ N/A</span>
                                    </div>
                                </div>
                            </div>

                            <div class="form-group">
                                <label>Are the appliances installed correctly?</label>
                                <div class="radio-group">
                                    <div class="radio-option">
                                        <input type="radio" name="appliancesInstalled" value="yes">
                                        <span class="radio-label">‚úÖ Yes</span>
                                    </div>
                                    <div class="radio-option">
                                        <input type="radio" name="appliancesInstalled" value="no">
                                        <span class="radio-label">‚ùå No</span>
                                    </div>
                                    <div class="radio-option">
                                        <input type="radio" name="appliancesInstalled" value="na">
                                        <span class="radio-label">‚ûñ N/A</span>
                                    </div>
                                </div>
                            </div>

                            <div class="form-group">
                                <label>Garbage disposal works?</label>
                                <div class="radio-group">
                                    <div class="radio-option">
                                        <input type="radio" name="garbageDisposal" value="yes">
                                        <span class="radio-label">‚úÖ Yes</span>
                                    </div>
                                    <div class="radio-option">
                                        <input type="radio" name="garbageDisposal" value="no">
                                        <span class="radio-label">‚ùå No</span>
                                    </div>
                                    <div class="radio-option">
                                        <input type="radio" name="garbageDisposal" value="na">
                                        <span class="radio-label">‚ûñ N/A</span>
                                    </div>
                                </div>
                            </div>

                            <div class="form-group">
                                <label>Caulking around kitchen sink, bathroom sinks, bath tub, and toilet?</label>
                                <div class="radio-group">
                                    <div class="radio-option">
                                        <input type="radio" name="caulking" value="yes">
                                        <span class="radio-label">‚úÖ Yes</span>
                                    </div>
                                    <div class="radio-option">
                                        <input type="radio" name="caulking" value="no">
                                        <span class="radio-label">‚ùå No</span>
                                    </div>
                                    <div class="radio-option">
                                        <input type="radio" name="caulking" value="na">
                                        <span class="radio-label">‚ûñ N/A</span>
                                    </div>
                                </div>
                            </div>

                            <div class="form-group">
                                <label>Bathtubs have Curtain Rods?</label>
                                <div class="radio-group">
                                    <div class="radio-option">
                                        <input type="radio" name="curtainRods" value="yes">
                                        <span class="radio-label">‚úÖ Yes</span>
                                    </div>
                                    <div class="radio-option">
                                        <input type="radio" name="curtainRods" value="no">
                                        <span class="radio-label">‚ùå No</span>
                                    </div>
                                    <div class="radio-option">
                                        <input type="radio" name="curtainRods" value="na">
                                        <span class="radio-label">‚ûñ N/A</span>
                                    </div>
                                </div>
                            </div>

                            <div class="form-group">
                                <label>Kitchen cabinet doors & drawers open/close properly?</label>
                                <div class="radio-group">
                                    <div class="radio-option">
                                        <input type="radio" name="kitchenCabinets" value="yes">
                                        <span class="radio-label">‚úÖ Yes</span>
                                    </div>
                                    <div class="radio-option">
                                        <input type="radio" name="kitchenCabinets" value="no">
                                        <span class="radio-label">‚ùå No</span>
                                    </div>
                                    <div class="radio-option">
                                        <input type="radio" name="kitchenCabinets" value="na">
                                        <span class="radio-label">‚ûñ N/A</span>
                                    </div>
                                </div>
                            </div>

                            <div class="form-group">
                                <label>Kitchen cabinets have hardware?</label>
                                <div class="radio-group">
                                    <div class="radio-option">
                                        <input type="radio" name="cabinetHardware" value="yes">
                                        <span class="radio-label">‚úÖ Yes</span>
                                    </div>
                                    <div class="radio-option">
                                        <input type="radio" name="cabinetHardware" value="no">
                                        <span class="radio-label">‚ùå No</span>
                                    </div>
                                    <div class="radio-option">
                                        <input type="radio" name="cabinetHardware" value="na">
                                        <span class="radio-label">‚ûñ N/A</span>
                                    </div>
                                </div>
                            </div>

                            <div class="form-group">
                                <label>All holes are patched, textured, and painted?</label>
                                <div class="radio-group">
                                    <div class="radio-option">
                                        <input type="radio" name="wallRepairs" value="yes">
                                        <span class="radio-label">‚úÖ Yes</span>
                                    </div>
                                    <div class="radio-option">
                                        <input type="radio" name="wallRepairs" value="no">
                                        <span class="radio-label">‚ùå No</span>
                                    </div>
                                    <div class="radio-option">
                                        <input type="radio" name="wallRepairs" value="na">
                                        <span class="radio-label">‚ûñ N/A</span>
                                    </div>
                                </div>
                            </div>

                            <div class="form-group">
                                <label>No paint on floors?</label>
                                <div class="radio-group">
                                    <div class="radio-option">
                                        <input type="radio" name="noPaintOnFloors" value="yes">
                                        <span class="radio-label">‚úÖ Yes</span>
                                    </div>
                                    <div class="radio-option">
                                        <input type="radio" name="noPaintOnFloors" value="no">
                                        <span class="radio-label">‚ùå No</span>
                                    </div>
                                    <div class="radio-option">
                                        <input type="radio" name="noPaintOnFloors" value="na">
                                        <span class="radio-label">‚ûñ N/A</span>
                                    </div>
                                </div>
                            </div>

                            <div class="form-group">
                                <label>Flooring has transition? If needed.</label>
                                <div class="radio-group">
                                    <div class="radio-option">
                                        <input type="radio" name="flooringTransition" value="yes">
                                        <span class="radio-label">‚úÖ Yes</span>
                                    </div>
                                    <div class="radio-option">
                                        <input type="radio" name="flooringTransition" value="no">
                                        <span class="radio-label">‚ùå No</span>
                                    </div>
                                    <div class="radio-option">
                                        <input type="radio" name="flooringTransition" value="na">
                                        <span class="radio-label">‚ûñ N/A</span>
                                    </div>
                                </div>
                            </div>

                            <div class="form-group">
                                <label>Dryer has exhaust?</label>
                                <div class="radio-group">
                                    <div class="radio-option">
                                        <input type="radio" name="dryerExhaust" value="yes">
                                        <span class="radio-label">‚úÖ Yes</span>
                                    </div>
                                    <div class="radio-option">
                                        <input type="radio" name="dryerExhaust" value="no">
                                        <span class="radio-label">‚ùå No</span>
                                    </div>
                                    <div class="radio-option">
                                        <input type="radio" name="dryerExhaust" value="na">
                                        <span class="radio-label">‚ûñ N/A</span>
                                    </div>
                                </div>
                            </div>

                            <div class="form-group">
                                <label>Smoke detectors installed/working?</label>
                                <div class="radio-group">
                                    <div class="radio-option">
                                        <input type="radio" name="smokeDetectors" value="yes">
                                        <span class="radio-label">‚úÖ Yes</span>
                                    </div>
                                    <div class="radio-option">
                                        <input type="radio" name="smokeDetectors" value="no">
                                        <span class="radio-label">‚ùå No</span>
                                    </div>
                                    <div class="radio-option">
                                        <input type="radio" name="smokeDetectors" value="na">
                                        <span class="radio-label">‚ûñ N/A</span>
                                    </div>
                                </div>
                            </div>

                            <div class="form-group">
                                <label>At least one CO detector on each floor</label>
                                <div class="radio-group">
                                    <div class="radio-option">
                                        <input type="radio" name="coDetectors" value="yes">
                                        <span class="radio-label">‚úÖ Yes</span>
                                    </div>
                                    <div class="radio-option">
                                        <input type="radio" name="coDetectors" value="no">
                                        <span class="radio-label">‚ùå No</span>
                                    </div>
                                    <div class="radio-option">
                                        <input type="radio" name="coDetectors" value="na">
                                        <span class="radio-label">‚ûñ N/A</span>
                                    </div>
                                </div>
                            </div>

                            <div class="form-group">
                                <label>Site is cleaned, trash is in black bags?</label>
                                <div class="radio-group">
                                    <div class="radio-option">
                                        <input type="radio" name="siteCleaned" value="yes">
                                        <span class="radio-label">‚úÖ Yes</span>
                                    </div>
                                    <div class="radio-option">
                                        <input type="radio" name="siteCleaned" value="no">
                                        <span class="radio-label">‚ùå No</span>
                                    </div>
                                    <div class="radio-option">
                                        <input type="radio" name="siteCleaned" value="na">
                                        <span class="radio-label">‚ûñ N/A</span>
                                    </div>
                                </div>
                            </div>

                            <div class="form-group">
                                <label>Attic & basement have no trash? Can be merged with no trash at site?</label>
                                <div class="radio-group">
                                    <div class="radio-option">
                                        <input type="radio" name="atticBasementClean" value="yes">
                                        <span class="radio-label">‚úÖ Yes</span>
                                    </div>
                                    <div class="radio-option">
                                        <input type="radio" name="atticBasementClean" value="no">
                                        <span class="radio-label">‚ùå No</span>
                                    </div>
                                    <div class="radio-option">
                                        <input type="radio" name="atticBasementClean" value="na">
                                        <span class="radio-label">‚ûñ N/A</span>
                                    </div>
                                </div>
                            </div>

                            <div class="form-group">
                                <label>Ecobee thermostats?</label>
                                <div class="radio-group">
                                    <div class="radio-option">
                                        <input type="radio" name="ecobeeThermostats" value="yes">
                                        <span class="radio-label">‚úÖ Yes</span>
                                    </div>
                                    <div class="radio-option">
                                        <input type="radio" name="ecobeeThermostats" value="no">
                                        <span class="radio-label">‚ùå No</span>
                                    </div>
                                    <div class="radio-option">
                                        <input type="radio" name="ecobeeThermostats" value="na">
                                        <span class="radio-label">‚ûñ N/A</span>
                                    </div>
                                </div>
                            </div>

                            <div class="form-group">
                                <label>Ring Doorbell installed? (N/A if not applicable)</label>
                                <div class="radio-group">
                                    <div class="radio-option">
                                        <input type="radio" name="ringDoorbell" value="yes">
                                        <span class="radio-label">‚úÖ Yes</span>
                                    </div>
                                    <div class="radio-option">
                                        <input type="radio" name="ringDoorbell" value="no">
                                        <span class="radio-label">‚ùå No</span>
                                    </div>
                                    <div class="radio-option">
                                        <input type="radio" name="ringDoorbell" value="na">
                                        <span class="radio-label">‚ûñ N/A</span>
                                    </div>
                                </div>
                            </div>

                            <div class="form-group">
                                <label>Is the doorbell functioning?</label>
                                <div class="radio-group">
                                    <div class="radio-option">
                                        <input type="radio" name="doorbellFunctioning" value="yes">
                                        <span class="radio-label">‚úÖ Yes</span>
                                    </div>
                                    <div class="radio-option">
                                        <input type="radio" name="doorbellFunctioning" value="no">
                                        <span class="radio-label">‚ùå No</span>
                                    </div>
                                    <div class="radio-option">
                                        <input type="radio" name="doorbellFunctioning" value="na">
                                        <span class="radio-label">‚ûñ N/A</span>
                                    </div>
                                </div>
                            </div>

                            <div class="form-group">
                                <label>Garage door works? Opens and close?</label>
                                <div class="radio-group">
                                    <div class="radio-option">
                                        <input type="radio" name="garageDoor" value="yes">
                                        <span class="radio-label">‚úÖ Yes</span>
                                    </div>
                                    <div class="radio-option">
                                        <input type="radio" name="garageDoor" value="no">
                                        <span class="radio-label">‚ùå No</span>
                                    </div>
                                    <div class="radio-option">
                                        <input type="radio" name="garageDoor" value="na">
                                        <span class="radio-label">‚ûñ N/A</span>
                                    </div>
                                </div>
                            </div>

                            <div class="form-group">
                                <label>Are there garage openers?</label>
                                <div class="radio-group">
                                    <div class="radio-option">
                                        <input type="radio" name="garageOpeners" value="yes">
                                        <span class="radio-label">‚úÖ Yes</span>
                                    </div>
                                    <div class="radio-option">
                                        <input type="radio" name="garageOpeners" value="no">
                                        <span class="radio-label">‚ùå No</span>
                                    </div>
                                    <div class="radio-option">
                                        <input type="radio" name="garageOpeners" value="na">
                                        <span class="radio-label">‚ûñ N/A</span>
                                    </div>
                                </div>
                            </div>

                            <div class="form-group">
                                <label>A/C filters replaced/clean?</label>
                                <div class="radio-group">
                                    <div class="radio-option">
                                        <input type="radio" name="acFilters" value="yes">
                                        <span class="radio-label">‚úÖ Yes</span>
                                    </div>
                                    <div class="radio-option">
                                        <input type="radio" name="acFilters" value="no">
                                        <span class="radio-label">‚ùå No</span>
                                    </div>
                                    <div class="radio-option">
                                        <input type="radio" name="acFilters" value="na">
                                        <span class="radio-label">‚ûñ N/A</span>
                                    </div>
                                </div>
                            </div>

                            <div class="form-group">
                                <label>AC cools/Heater blows warm?</label>
                                <div class="radio-group">
                                    <div class="radio-option">
                                        <input type="radio" name="hvac" value="yes">
                                        <span class="radio-label">‚úÖ Yes</span>
                                    </div>
                                    <div class="radio-option">
                                        <input type="radio" name="hvac" value="no">
                                        <span class="radio-label">‚ùå No</span>
                                    </div>
                                    <div class="radio-option">
                                        <input type="radio" name="hvac" value="na">
                                        <span class="radio-label">‚ûñ N/A</span>
                                    </div>
                                </div>
                            </div>

                            <div class="form-group">
                                <label>Fridge water filter replaced if needed?</label>
                                <div class="radio-group">
                                    <div class="radio-option">
                                        <input type="radio" name="fridgeWaterFilter" value="yes">
                                        <span class="radio-label">‚úÖ Yes</span>
                                    </div>
                                    <div class="radio-option">
                                        <input type="radio" name="fridgeWaterFilter" value="no">
                                        <span class="radio-label">‚ùå No</span>
                                    </div>
                                    <div class="radio-option">
                                        <input type="radio" name="fridgeWaterFilter" value="na">
                                        <span class="radio-label">‚ûñ N/A</span>
                                    </div>
                                </div>
                            </div>

                            <div class="form-group">
                                <label>Property has Trash bin?</label>
                                <div class="radio-group">
                                    <div class="radio-option">
                                        <input type="radio" name="trashBin" value="yes">
                                        <span class="radio-label">‚úÖ Yes</span>
                                    </div>
                                    <div class="radio-option">
                                        <input type="radio" name="trashBin" value="no">
                                        <span class="radio-label">‚ùå No</span>
                                    </div>
                                    <div class="radio-option">
                                        <input type="radio" name="trashBin" value="na">
                                        <span class="radio-label">‚ûñ N/A</span>
                                    </div>
                                </div>
                            </div>

                            <div class="form-group">
                                <label>Property has Recycle bin?</label>
                                <div class="radio-group">
                                    <div class="radio-option">
                                        <input type="radio" name="recycleBin" value="yes">
                                        <span class="radio-label">‚úÖ Yes</span>
                                    </div>
                                    <div class="radio-option">
                                        <input type="radio" name="recycleBin" value="no">
                                        <span class="radio-label">‚ùå No</span>
                                    </div>
                                    <div class="radio-option">
                                        <input type="radio" name="recycleBin" value="na">
                                        <span class="radio-label">‚ûñ N/A</span>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="form-group">
                            <label>General Property Notes:</label>
                            <textarea name="generalPropertyNotes" placeholder="Add any additional notes, observations, or details about the general property inspection..."></textarea>
                        </div>
                    </div>

                    <!-- Dynamic Room Sections -->
                    <div id="roomSections"></div>

                    <!-- Media Upload Section -->
                    <div class="section">
                        <div class="section-header">
                            <div class="section-icon">üì∏</div>
                            <h2>Photos & Videos</h2>
                        </div>
                        
                        <div class="form-group">
                            <label>Upload inspection photos and videos:</label>
                            <div class="upload-area" id="uploadArea">
                                <div class="upload-icon">üìÅ</div>
                                <div class="upload-text">Drag and drop files here, or click to select</div>
                                <div class="upload-hint">Supports: JPG, PNG, GIF, MP4, MOV, AVI (Max 50MB per file)</div>
                                <input type="file" id="mediaFiles" multiple accept="image/*,video/*" style="display: none;">
                            </div>
                            <div class="file-list" id="fileList"></div>
                        </div>

                        <div class="form-group">
                            <label>Media Notes/Descriptions:</label>
                            <textarea name="mediaNotes" placeholder="Describe the uploaded photos/videos, any issues captured, or additional context..."></textarea>
                        </div>
                    </div>

                    <div class="submit-section">
                        <button type="submit" class="submit-btn">Submit Inspection</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <script>
        let uploadedFiles = [];

        function generateRoomSections() {
            const bedrooms = parseInt(document.getElementById('bedrooms').value) || 0;
            const bathrooms = parseInt(document.getElementById('bathrooms').value) || 0;
            const container = document.getElementById('roomSections');
            
            let html = '';
            
            // Generate bedroom sections with enhanced questions
            for (let i = 1; i <= bedrooms; i++) {
                html += `
                    <div class="section">
                        <div class="section-header">
                            <div class="section-icon">üõèÔ∏è</div>
                            <h2>Bedroom ${i}</h2>
                        </div>
                        
                        <div class="form-grid">
                            <div class="form-group">
                                <label>Lights work?</label>
                                <div class="radio-group">
                                    <div class="radio-option">
                                        <input type="radio" name="bedroom${i}Lights" value="yes">
                                        <span class="radio-label">‚úÖ Yes</span>
                                    </div>
                                    <div class="radio-option">
                                        <input type="radio" name="bedroom${i}Lights" value="no">
                                        <span class="radio-label">‚ùå No</span>
                                    </div>
                                    <div class="radio-option">
                                        <input type="radio" name="bedroom${i}Lights" value="na">
                                        <span class="radio-label">‚ûñ N/A</span>
                                    </div>
                                </div>
                            </div>

                            <div class="form-group">
                                <label>Outlets work?</label>
                                <div class="radio-group">
                                    <div class="radio-option">
                                        <input type="radio" name="bedroom${i}Outlets" value="yes">
                                        <span class="radio-label">‚úÖ Yes</span>
                                    </div>
                                    <div class="radio-option">
                                        <input type="radio" name="bedroom${i}Outlets" value="no">
                                        <span class="radio-label">‚ùå No</span>
                                    </div>
                                    <div class="radio-option">
                                        <input type="radio" name="bedroom${i}Outlets" value="na">
                                        <span class="radio-label">‚ûñ N/A</span>
                                    </div>
                                </div>
                            </div>

                            <div class="form-group">
                                <label>Windows work?</label>
                                <div class="radio-group">
                                    <div class="radio-option">
                                        <input type="radio" name="bedroom${i}Windows" value="yes">
                                        <span class="radio-label">‚úÖ Yes</span>
                                    </div>
                                    <div class="radio-option">
                                        <input type="radio" name="bedroom${i}Windows" value="no">
                                        <span class="radio-label">‚ùå No</span>
                                    </div>
                                    <div class="radio-option">
                                        <input type="radio" name="bedroom${i}Windows" value="na">
                                        <span class="radio-label">‚ûñ N/A</span>
                                    </div>
                                </div>
                            </div>

                            <div class="form-group">
                                <label>Closet doors work?</label>
                                <div class="radio-group">
                                    <div class="radio-option">
                                        <input type="radio" name="bedroom${i}ClosetDoors" value="yes">
                                        <span class="radio-label">‚úÖ Yes</span>
                                    </div>
                                    <div class="radio-option">
                                        <input type="radio" name="bedroom${i}ClosetDoors" value="no">
                                        <span class="radio-label">‚ùå No</span>
                                    </div>
                                    <div class="radio-option">
                                        <input type="radio" name="bedroom${i}ClosetDoors" value="na">
                                        <span class="radio-label">‚ûñ N/A</span>
                                    </div>
                                </div>
                            </div>

                            <div class="form-group">
                                <label>Ceiling fan works (if present)?</label>
                                <div class="radio-group">
                                    <div class="radio-option">
                                        <input type="radio" name="bedroom${i}CeilingFan" value="yes">
                                        <span class="radio-label">‚úÖ Yes</span>
                                    </div>
                                    <div class="radio-option">
                                        <input type="radio" name="bedroom${i}CeilingFan" value="no">
                                        <span class="radio-label">‚ùå No</span>
                                    </div>
                                    <div class="radio-option">
                                        <input type="radio" name="bedroom${i}CeilingFan" value="na">
                                        <span class="radio-label">‚ûñ N/A</span>
                                    </div>
                                </div>
                            </div>

                            <div class="form-group">
                                <label>Flooring in good condition (no damage, stains, or loose areas)?</label>
                                <div class="radio-group">
                                    <div class="radio-option">
                                        <input type="radio" name="bedroom${i}Flooring" value="yes">
                                        <span class="radio-label">‚úÖ Yes</span>
                                    </div>
                                    <div class="radio-option">
                                        <input type="radio" name="bedroom${i}Flooring" value="no">
                                        <span class="radio-label">‚ùå No</span>
                                    </div>
                                    <div class="radio-option">
                                        <input type="radio" name="bedroom${i}Flooring" value="na">
                                        <span class="radio-label">‚ûñ N/A</span>
                                    </div>
                                </div>
                            </div>

                            <div class="form-group">
                                <label>Air conditioning/heating vents clear and working?</label>
                                <div class="radio-group">
                                    <div class="radio-option">
                                        <input type="radio" name="bedroom${i}HVAC" value="yes">
                                        <span class="radio-label">‚úÖ Yes</span>
                                    </div>
                                    <div class="radio-option">
                                        <input type="radio" name="bedroom${i}HVAC" value="no">
                                        <span class="radio-label">‚ùå No</span>
                                    </div>
                                    <div class="radio-option">
                                        <input type="radio" name="bedroom${i}HVAC" value="na">
                                        <span class="radio-label">‚ûñ N/A</span>
                                    </div>
                                </div>
                            </div>

                            <div class="form-group">
                                <label>Walls and ceilings in good condition (no cracks, holes, or damage)?</label>
                                <div class="radio-group">
                                    <div class="radio-option">
                                        <input type="radio" name="bedroom${i}WallsCeiling" value="yes">
                                        <span class="radio-label">‚úÖ Yes</span>
                                    </div>
                                    <div class="radio-option">
                                        <input type="radio" name="bedroom${i}WallsCeiling" value="no">
                                        <span class="radio-label">‚ùå No</span>
                                    </div>
                                    <div class="radio-option">
                                        <input type="radio" name="bedroom${i}WallsCeiling" value="na">
                                        <span class="radio-label">‚ûñ N/A</span>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="form-group">
                            <label>Bedroom ${i} Notes:</label>
                            <textarea name="bedroom${i}Notes" placeholder="Add any specific notes, issues, or observations for Bedroom ${i}..."></textarea>
                        </div>
                    </div>
                `;
            }
            
            // Generate bathroom sections with enhanced questions
            for (let i = 1; i <= bathrooms; i++) {
                html += `
                    <div class="section">
                        <div class="section-header">
                            <div class="section-icon">üöø</div>
                            <h2>Bathroom ${i}</h2>
                        </div>
                        
                        <div class="form-grid">
                            <div class="form-group">
                                <label>Lights work?</label>
                                <div class="radio-group">
                                    <div class="radio-option">
                                        <input type="radio" name="bathroom${i}Lights" value="yes">
                                        <span class="radio-label">‚úÖ Yes</span>
                                    </div>
                                    <div class="radio-option">
                                        <input type="radio" name="bathroom${i}Lights" value="no">
                                        <span class="radio-label">‚ùå No</span>
                                    </div>
                                    <div class="radio-option">
                                        <input type="radio" name="bathroom${i}Lights" value="na">
                                        <span class="radio-label">‚ûñ N/A</span>
                                    </div>
                                </div>
                            </div>

                            <div class="form-group">
                                <label>Outlets work (GFCI protected)?</label>
                                <div class="radio-group">
                                    <div class="radio-option">
                                        <input type="radio" name="bathroom${i}Outlets" value="yes">
                                        <span class="radio-label">‚úÖ Yes</span>
                                    </div>
                                    <div class="radio-option">
                                        <input type="radio" name="bathroom${i}Outlets" value="no">
                                        <span class="radio-label">‚ùå No</span>
                                    </div>
                                    <div class="radio-option">
                                        <input type="radio" name="bathroom${i}Outlets" value="na">
                                        <span class="radio-label">‚ûñ N/A</span>
                                    </div>
                                </div>
                            </div>

                            <div class="form-group">
                                <label>Toilet flushes properly and no leaks?</label>
                                <div class="radio-group">
                                    <div class="radio-option">
                                        <input type="radio" name="bathroom${i}Toilet" value="yes">
                                        <span class="radio-label">‚úÖ Yes</span>
                                    </div>
                                    <div class="radio-option">
                                        <input type="radio" name="bathroom${i}Toilet" value="no">
                                        <span class="radio-label">‚ùå No</span>
                                    </div>
                                    <div class="radio-option">
                                        <input type="radio" name="bathroom${i}Toilet" value="na">
                                        <span class="radio-label">‚ûñ N/A</span>
                                    </div>
                                </div>
                            </div>

                            <div class="form-group">
                                <label>Sink and faucet work properly?</label>
                                <div class="radio-group">
                                    <div class="radio-option">
                                        <input type="radio" name="bathroom${i}Sink" value="yes">
                                        <span class="radio-label">‚úÖ Yes</span>
                                    </div>
                                    <div class="radio-option">
                                        <input type="radio" name="bathroom${i}Sink" value="no">
                                        <span class="radio-label">‚ùå No</span>
                                    </div>
                                    <div class="radio-option">
                                        <input type="radio" name="bathroom${i}Sink" value="na">
                                        <span class="radio-label">‚ûñ N/A</span>
                                    </div>
                                </div>
                            </div>

                            <div class="form-group">
                                <label>Shower/tub works with good water pressure?</label>
                                <div class="radio-group">
                                    <div class="radio-option">
                                        <input type="radio" name="bathroom${i}ShowerTub" value="yes">
                                        <span class="radio-label">‚úÖ Yes</span>
                                    </div>
                                    <div class="radio-option">
                                        <input type="radio" name="bathroom${i}ShowerTub" value="no">
                                        <span class="radio-label">‚ùå No</span>
                                    </div>
                                    <div class="radio-option">
                                        <input type="radio" name="bathroom${i}ShowerTub" value="na">
                                        <span class="radio-label">‚ûñ N/A</span>
                                    </div>
                                </div>
                            </div>

                            <div class="form-group">
                                <label>Exhaust fan works?</label>
                                <div class="radio-group">
                                    <div class="radio-option">
                                        <input type="radio" name="bathroom${i}ExhaustFan" value="yes">
                                        <span class="radio-label">‚úÖ Yes</span>
                                    </div>
                                    <div class="radio-option">
                                        <input type="radio" name="bathroom${i}ExhaustFan" value="no">
                                        <span class="radio-label">‚ùå No</span>
                                    </div>
                                    <div class="radio-option">
                                        <input type="radio" name="bathroom${i}ExhaustFan" value="na">
                                        <span class="radio-label">‚ûñ N/A</span>
                                    </div>
                                </div>
                            </div>

                            <div class="form-group">
                                <label>Caulking and grout in good condition?</label>
                                <div class="radio-group">
                                    <div class="radio-option">
                                        <input type="radio" name="bathroom${i}Caulking" value="yes">
                                        <span class="radio-label">‚úÖ Yes</span>
                                    </div>
                                    <div class="radio-option">
                                        <input type="radio" name="bathroom${i}Caulking" value="no">
                                        <span class="radio-label">‚ùå No</span>
                                    </div>
                                    <div class="radio-option">
                                        <input type="radio" name="bathroom${i}Caulking" value="na">
                                        <span class="radio-label">‚ûñ N/A</span>
                                    </div>
                                </div>
                            </div>

                            <div class="form-group">
                                <label>Flooring in good condition (no water damage or loose tiles)?</label>
                                <div class="radio-group">
                                    <div class="radio-option">
                                        <input type="radio" name="bathroom${i}Flooring" value="yes">
                                        <span class="radio-label">‚úÖ Yes</span>
                                    </div>
                                    <div class="radio-option">
                                        <input type="radio" name="bathroom${i}Flooring" value="no">
                                        <span class="radio-label">‚ùå No</span>
                                    </div>
                                    <div class="radio-option">
                                        <input type="radio" name="bathroom${i}Flooring" value="na">
                                        <span class="radio-label">‚ûñ N/A</span>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="form-group">
                            <label>Bathroom ${i} Notes:</label>
                            <textarea name="bathroom${i}Notes" placeholder="Add any specific notes, issues, or observations for Bathroom ${i}..."></textarea>
                        </div>
                    </div>
                `;
            }
            
            container.innerHTML = html;
            
            // Add event listeners for radio buttons
            addRadioButtonListeners();
            updateProgress();
        }

        function addRadioButtonListeners() {
            const radioOptions = document.querySelectorAll('.radio-option');
            radioOptions.forEach(option => {
                option.addEventListener('click', function() {
                    const radio = this.querySelector('input[type="radio"]');
                    const radioGroup = this.parentNode;
                    
                    // Remove selected class from all options in this group
                    radioGroup.querySelectorAll('.radio-option').forEach(opt => {
                        opt.classList.remove('selected');
                    });
                    
                    // Add selected class to clicked option
                    this.classList.add('selected');
                    radio.checked = true;
                    
                    updateProgress();
                });
            });
        }

        function updateProgress() {
            const allRadioGroups = document.querySelectorAll('.radio-group');
            let completedCount = 0;
            
            allRadioGroups.forEach(group => {
                const checkedRadio = group.querySelector('input[type="radio"]:checked');
                if (checkedRadio) {
                    completedCount++;
                }
            });
            
            const totalCount = allRadioGroups.length;
            const progressPercent = totalCount > 0 ? Math.round((completedCount / totalCount) * 100) : 0;
            
            // Update progress bar
            const progressBar = document.getElementById('progressBar');
            if (progressBar) {
                progressBar.style.width = progressPercent + '%';
            }
            
            // Update stats
            const completionStats = document.getElementById('completionStats');
            if (completionStats && totalCount > 0) {
                completionStats.style.display = 'flex';
                document.getElementById('completedCount').textContent = completedCount;
                document.getElementById('totalCount').textContent = totalCount;
                document.getElementById('progressPercent').textContent = progressPercent + '%';
            }
        }

        // File upload functionality
        function initializeFileUpload() {
            const uploadArea = document.getElementById('uploadArea');
            const fileInput = document.getElementById('mediaFiles');
            const fileList = document.getElementById('fileList');

            // Click to upload
            uploadArea.addEventListener('click', () => fileInput.click());

            // Drag and drop
            uploadArea.addEventListener('dragover', (e) => {
                e.preventDefault();
                uploadArea.classList.add('dragover');
            });

            uploadArea.addEventListener('dragleave', () => {
                uploadArea.classList.remove('dragover');
            });

            uploadArea.addEventListener('drop', (e) => {
                e.preventDefault();
                uploadArea.classList.remove('dragover');
                const files = Array.from(e.dataTransfer.files);
                handleFiles(files);
            });

            fileInput.addEventListener('change', (e) => {
                const files = Array.from(e.target.files);
                handleFiles(files);
            });

            function handleFiles(files) {
                files.forEach(file => {
                    if (file.size <= 50 * 1024 * 1024) { // 50MB limit
                        uploadedFiles.push(file);
                        addFileToList(file);
                    } else {
                        alert(`File "${file.name}" is too large. Maximum size is 50MB.`);
                    }
                });
            }

            function addFileToList(file) {
                const fileItem = document.createElement('div');
                fileItem.className = 'file-item';
                fileItem.innerHTML = `
                    <div class="file-info">
                        <div class="file-type-icon">${getFileIcon(file.type)}</div>
                        <div class="file-details">
                            <div class="file-name">${file.name}</div>
                            <div class="file-size">${formatFileSize(file.size)}</div>
                        </div>
                    </div>
                    <button class="remove-file" onclick="removeFile('${file.name}')">Remove</button>
                `;
                fileList.appendChild(fileItem);
            }

            function getFileIcon(fileType) {
                if (fileType.startsWith('image/')) return 'üñºÔ∏è';
                if (fileType.startsWith('video/')) return 'üé•';
                return 'üìÑ';
            }

            function formatFileSize(bytes) {
                if (bytes === 0) return '0 Bytes';
                const k = 1024;
                const sizes = ['Bytes', 'KB', 'MB', 'GB'];
                const i = Math.floor(Math.log(bytes) / Math.log(k));
                return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];
            }
        }

        function removeFile(fileName) {
            uploadedFiles = uploadedFiles.filter(file => file.name !== fileName);
            const fileList = document.getElementById('fileList');
            const fileItems = fileList.querySelectorAll('.file-item');
            fileItems.forEach(item => {
                if (item.querySelector('.file-name').textContent === fileName) {
                    item.remove();
                }
            });
        }

        // Form submission
        function handleFormSubmit(e) {
            e.preventDefault();
            
            // Validate required fields
            const requiredFields = document.querySelectorAll('.required-field input, .required-field select');
            let isValid = true;
            
            requiredFields.forEach(field => {
                const formGroup = field.closest('.form-group');
                const errorMessage = formGroup.querySelector('.error-message');
                
                if (!field.value) {
                    formGroup.classList.add('error');
                    if (errorMessage) errorMessage.style.display = 'block';
                    isValid = false;
                } else {
                    formGroup.classList.remove('error');
                    if (errorMessage) errorMessage.style.display = 'none';
                }
            });
            
            if (isValid) {
                // Collect form data
                const formData = new FormData(e.target);
                
                // Add uploaded files
                uploadedFiles.forEach(file => {
                    formData.append('uploadedFiles[]', file);
                });
                
                // Here you would normally send the data to a server
                
    // Convert FormData to plain object
    const plainData = Object.fromEntries(formData.entries());

    // Send data to n8n webhook
    fetch('https://primary-production-f6af0.up.railway.app/webhook-test/property_inspection_form', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify(plainData)
    })
    .then(response => response.json())
    .then(data => {
        alert('Inspection submitted successfully!');
        console.log('Success:', data);
    })
    .catch((error) => {
        console.error('Error:', error);
        alert('Error submitting form. Please try again.');
    });
    } else {
                alert('Please fill in all required fields before submitting.');
            }
        }

        // Initialize everything when DOM is loaded
        document.addEventListener('DOMContentLoaded', function() {
            // Set today's date as default
            const today = new Date().toISOString().split('T')[0];
            document.getElementById('inspectionDate').value = today;
            
            // Initialize file upload
            initializeFileUpload();
            
            // Add form submit handler
            document.getElementById('inspectionForm').addEventListener('submit', handleFormSubmit);
            
            // Add radio button listeners for existing elements
            addRadioButtonListeners();
            
            // Initial progress update
            updateProgress();
        });

        // Get query parameter value
        function getQueryParam(name) {
            const urlParams = new URLSearchParams(window.location.search);
            return urlParams.get(name) || '';
        }

        document.addEventListener('DOMContentLoaded', function () {
            // Bedrooms (number input)
            const bedroomsValue = getQueryParam('bedrooms');
            if (bedroomsValue) {
                const bedroomsField = document.querySelector('#bedrooms');
                if (bedroomsField) {
                    bedroomsField.value = bedroomsValue;
                    // Trigger the room generation after setting value
                    generateRoomSections();
                }
            }

            // Bathrooms (number input)
            const bathroomsValue = getQueryParam('bathrooms');
            if (bathroomsValue) {
                const bathroomsField = document.querySelector('#bathrooms');
                if (bathroomsField) {
                    bathroomsField.value = bathroomsValue;
                    // Trigger the room generation after setting value
                    generateRoomSections();
                }
            }

            // Property Address (text field)
            const addressValue = getQueryParam('address');
            if (addressValue) {
                const addressField = document.querySelector('#propertyAddress');
                if (addressField) addressField.value = decodeURIComponent(addressValue);
            }

            // Slack channel (if you have this field)
            const channelValue = getQueryParam('channel');
            if (channelValue) {
                const channelField = document.querySelector('[name="channel"]');
                if (channelField) channelField.value = channelValue;
            }
        });

    
    </script>
</body>
</html>
