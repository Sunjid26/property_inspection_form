<!DOCTYPE html>

<html lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>Property Walkthrough Inspection</title>
<link href="style.css" rel="stylesheet"/>
</head>
<body>
<div class="container">
<div class="form-header fade-in">
<h1>Property Inspection</h1>
<p>Comprehensive Walkthrough Checklist</p>
</div>
<div class="form-container fade-in">
<div class="progress-bar" id="progressBar"></div>
<div class="form-content">
<div class="completion-stats" id="completionStats" style="display: none;">
<div class="stat">
<div class="stat-number" id="completedCount">0</div>
<div class="stat-label">Completed</div>
</div>
<div class="comment-box" style="display:none; margin-top:10px;"><textarea name="generalComment1" placeholder="Please describe the issue..."></textarea></div><div class="stat">
<div class="stat-number" id="totalCount">0</div>
<div class="stat-label">Total Items</div>
</div>
<div class="comment-box" style="display:none; margin-top:10px;"><textarea name="generalComment2" placeholder="Please describe the issue..."></textarea></div><div class="stat">
<div class="stat-number" id="progressPercent">0%</div>
<div class="stat-label">Progress</div>
</div>
<div class="comment-box" style="display:none; margin-top:10px;"><textarea name="generalComment3" placeholder="Please describe the issue..."></textarea></div></div>
<form id="inspectionForm">
<!-- Property Information -->
<div class="section">
<div class="section-header">
<div class="section-icon">üìã</div>
<h2>Property Information</h2>
</div>
<div class="form-grid">
<div class="form-group required-field">
<label for="inspectionDate">Inspection Date:</label>
<input id="inspectionDate" name="inspectionDate" required="" type="date"/>
<div class="error-message">Please select an inspection date</div>
</div>
<div class="comment-box" style="display:none; margin-top:10px;"><textarea name="generalComment4" placeholder="Please describe the issue..."></textarea></div><div class="form-group required-field">
<label for="propertyAddress">Property Address:</label>
<input id="propertyAddress" name="propertyAddress" placeholder="Enter full property address" readonly="" required="" type="text"/>
<div class="error-message">Please enter the property address</div>
</div>
<div class="comment-box" style="display:none; margin-top:10px;"><textarea name="generalComment5" placeholder="Please describe the issue..."></textarea></div><div class="form-group required-field">
<label for="bedrooms">Number of Bedrooms:</label>
<input id="bedrooms" max="10" min="1" name="bedrooms" onchange="generateRoomSections()" placeholder="Enter number" readonly="" required="" type="number"/>
<div class="error-message">Please enter the number of bedrooms</div>
</div>
<div class="comment-box" style="display:none; margin-top:10px;"><textarea name="generalComment6" placeholder="Please describe the issue..."></textarea></div><div class="form-group required-field">
<label for="bathrooms">Number of Bathrooms:</label>
<input id="bathrooms" max="10" min="1" name="bathrooms" onchange="generateRoomSections()" placeholder="Enter number" readonly="" required="" type="number"/>
<div class="error-message">Please enter the number of bathrooms</div>
</div>
<div class="comment-box" style="display:none; margin-top:10px;"><textarea name="generalComment7" placeholder="Please describe the issue..."></textarea></div></div>
</div>
<div class="comment-box" style="display:none; margin-top:10px;"><textarea name="generalComment8" placeholder="Please describe the issue..."></textarea></div><!-- General Property Checklist -->
<div class="section">
<div class="section-header">
<div class="section-icon">üè†</div>
<h2>General Property Checklist</h2>
</div>
<div class="form-grid">
<div class="form-group">
<label>Property has door locks?</label>
<div class="radio-group">
<div class="radio-option">
<input name="doorLocks" type="radio" value="yes"/>
<span class="radio-label">‚úÖ Yes</span>
</div>
<div class="radio-option">
<input name="doorLocks" type="radio" value="no"/>
<span class="radio-label">‚ùå No</span>
</div>
<div class="radio-option">
<input name="doorLocks" type="radio" value="na"/>
<span class="radio-label">‚ûñ N/A</span>
</div>
</div><div class="comment-box" style="display:none; margin-top:10px;"><textarea name="doorLocksComment1" placeholder="Please describe the issue..."></textarea></div><div class="comment-box" style="display:none; margin-top:10px;"><textarea name="doorLocksDetails" placeholder="Please describe the issue..."></textarea></div>
</div>
<div class="comment-box" style="display:none; margin-top:10px;"><textarea name="generalComment9" placeholder="Please describe the issue..."></textarea></div><div class="form-group">
<label>Appliances turn on?</label>
<div class="radio-group">
<div class="radio-option">
<input name="appliancesWork" type="radio" value="yes"/>
<span class="radio-label">‚úÖ Yes</span>
</div>
<div class="radio-option">
<input name="appliancesWork" type="radio" value="no"/>
<span class="radio-label">‚ùå No</span>
</div>
<div class="radio-option">
<input name="appliancesWork" type="radio" value="na"/>
<span class="radio-label">‚ûñ N/A</span>
</div>
</div><div class="comment-box" style="display:none; margin-top:10px;"><textarea name="appliancesWorkComment1" placeholder="Please describe the issue..."></textarea></div><div class="comment-box" style="display:none; margin-top:10px;"><textarea name="appliancesWorkDetails" placeholder="Please describe the issue..."></textarea></div>
</div>
<div class="comment-box" style="display:none; margin-top:10px;"><textarea name="generalComment10" placeholder="Please describe the issue..."></textarea></div><div class="form-group">
<label>Are the appliances installed correctly?</label>
<div class="radio-group">
<div class="radio-option">
<input name="appliancesInstalled" type="radio" value="yes"/>
<span class="radio-label">‚úÖ Yes</span>
</div>
<div class="radio-option">
<input name="appliancesInstalled" type="radio" value="no"/>
<span class="radio-label">‚ùå No</span>
</div>
<div class="radio-option">
<input name="appliancesInstalled" type="radio" value="na"/>
<span class="radio-label">‚ûñ N/A</span>
</div>
</div><div class="comment-box" style="display:none; margin-top:10px;"><textarea name="appliancesInstalledComment1" placeholder="Please describe the issue..."></textarea></div><div class="comment-box" style="display:none; margin-top:10px;"><textarea name="appliancesInstalledDetails" placeholder="Please describe the issue..."></textarea></div>
</div>
<div class="comment-box" style="display:none; margin-top:10px;"><textarea name="generalComment11" placeholder="Please describe the issue..."></textarea></div><div class="form-group">
<label>Garbage disposal works?</label>
<div class="radio-group">
<div class="radio-option">
<input name="garbageDisposal" type="radio" value="yes"/>
<span class="radio-label">‚úÖ Yes</span>
</div>
<div class="radio-option">
<input name="garbageDisposal" type="radio" value="no"/>
<span class="radio-label">‚ùå No</span>
</div>
<div class="radio-option">
<input name="garbageDisposal" type="radio" value="na"/>
<span class="radio-label">‚ûñ N/A</span>
</div>
</div><div class="comment-box" style="display:none; margin-top:10px;"><textarea name="garbageDisposalComment1" placeholder="Please describe the issue..."></textarea></div><div class="comment-box" style="display:none; margin-top:10px;"><textarea name="garbageDisposalDetails" placeholder="Please describe the issue..."></textarea></div>
</div>
<div class="comment-box" style="display:none; margin-top:10px;"><textarea name="generalComment12" placeholder="Please describe the issue..."></textarea></div><div class="form-group">
<label>Caulking around kitchen sink, bathroom sinks, bath tub, and toilet?</label>
<div class="radio-group">
<div class="radio-option">
<input name="caulking" type="radio" value="yes"/>
<span class="radio-label">‚úÖ Yes</span>
</div>
<div class="radio-option">
<input name="caulking" type="radio" value="no"/>
<span class="radio-label">‚ùå No</span>
</div>
<div class="radio-option">
<input name="caulking" type="radio" value="na"/>
<span class="radio-label">‚ûñ N/A</span>
</div>
</div><div class="comment-box" style="display:none; margin-top:10px;"><textarea name="caulkingComment1" placeholder="Please describe the issue..."></textarea></div><div class="comment-box" style="display:none; margin-top:10px;"><textarea name="caulkingDetails" placeholder="Please describe the issue..."></textarea></div>
</div>
<div class="comment-box" style="display:none; margin-top:10px;"><textarea name="generalComment13" placeholder="Please describe the issue..."></textarea></div><div class="form-group">
<label>Bathtubs have Curtain Rods?</label>
<div class="radio-group">
<div class="radio-option">
<input name="curtainRods" type="radio" value="yes"/>
<span class="radio-label">‚úÖ Yes</span>
</div>
<div class="radio-option">
<input name="curtainRods" type="radio" value="no"/>
<span class="radio-label">‚ùå No</span>
</div>
<div class="radio-option">
<input name="curtainRods" type="radio" value="na"/>
<span class="radio-label">‚ûñ N/A</span>
</div>
</div><div class="comment-box" style="display:none; margin-top:10px;"><textarea name="curtainRodsComment1" placeholder="Please describe the issue..."></textarea></div><div class="comment-box" style="display:none; margin-top:10px;"><textarea name="curtainRodsDetails" placeholder="Please describe the issue..."></textarea></div>
</div>
<div class="comment-box" style="display:none; margin-top:10px;"><textarea name="generalComment14" placeholder="Please describe the issue..."></textarea></div><div class="form-group">
<label>Kitchen cabinet doors &amp; drawers open/close properly?</label>
<div class="radio-group">
<div class="radio-option">
<input name="kitchenCabinets" type="radio" value="yes"/>
<span class="radio-label">‚úÖ Yes</span>
</div>
<div class="radio-option">
<input name="kitchenCabinets" type="radio" value="no"/>
<span class="radio-label">‚ùå No</span>
</div>
<div class="radio-option">
<input name="kitchenCabinets" type="radio" value="na"/>
<span class="radio-label">‚ûñ N/A</span>
</div>
</div><div class="comment-box" style="display:none; margin-top:10px;"><textarea name="kitchenCabinetsComment1" placeholder="Please describe the issue..."></textarea></div><div class="comment-box" style="display:none; margin-top:10px;"><textarea name="kitchenCabinetsDetails" placeholder="Please describe the issue..."></textarea></div>
</div>
<div class="comment-box" style="display:none; margin-top:10px;"><textarea name="generalComment15" placeholder="Please describe the issue..."></textarea></div><div class="form-group">
<label>Kitchen cabinets have hardware?</label>
<div class="radio-group">
<div class="radio-option">
<input name="cabinetHardware" type="radio" value="yes"/>
<span class="radio-label">‚úÖ Yes</span>
</div>
<div class="radio-option">
<input name="cabinetHardware" type="radio" value="no"/>
<span class="radio-label">‚ùå No</span>
</div>
<div class="radio-option">
<input name="cabinetHardware" type="radio" value="na"/>
<span class="radio-label">‚ûñ N/A</span>
</div>
</div><div class="comment-box" style="display:none; margin-top:10px;"><textarea name="cabinetHardwareComment1" placeholder="Please describe the issue..."></textarea></div><div class="comment-box" style="display:none; margin-top:10px;"><textarea name="cabinetHardwareDetails" placeholder="Please describe the issue..."></textarea></div>
</div>
<div class="comment-box" style="display:none; margin-top:10px;"><textarea name="generalComment16" placeholder="Please describe the issue..."></textarea></div><div class="form-group">
<label>All holes are patched, textured, and painted?</label>
<div class="radio-group">
<div class="radio-option">
<input name="wallRepairs" type="radio" value="yes"/>
<span class="radio-label">‚úÖ Yes</span>
</div>
<div class="radio-option">
<input name="wallRepairs" type="radio" value="no"/>
<span class="radio-label">‚ùå No</span>
</div>
<div class="radio-option">
<input name="wallRepairs" type="radio" value="na"/>
<span class="radio-label">‚ûñ N/A</span>
</div>
</div><div class="comment-box" style="display:none; margin-top:10px;"><textarea name="wallRepairsComment1" placeholder="Please describe the issue..."></textarea></div><div class="comment-box" style="display:none; margin-top:10px;"><textarea name="wallRepairsDetails" placeholder="Please describe the issue..."></textarea></div>
</div>
<div class="comment-box" style="display:none; margin-top:10px;"><textarea name="generalComment17" placeholder="Please describe the issue..."></textarea></div><div class="form-group">
<label>No paint on floors?</label>
<div class="radio-group">
<div class="radio-option">
<input name="noPaintOnFloors" type="radio" value="yes"/>
<span class="radio-label">‚úÖ Yes</span>
</div>
<div class="radio-option">
<input name="noPaintOnFloors" type="radio" value="no"/>
<span class="radio-label">‚ùå No</span>
</div>
<div class="radio-option">
<input name="noPaintOnFloors" type="radio" value="na"/>
<span class="radio-label">‚ûñ N/A</span>
</div>
</div><div class="comment-box" style="display:none; margin-top:10px;"><textarea name="noPaintOnFloorsComment1" placeholder="Please describe the issue..."></textarea></div><div class="comment-box" style="display:none; margin-top:10px;"><textarea name="noPaintOnFloorsDetails" placeholder="Please describe the issue..."></textarea></div>
</div>
<div class="comment-box" style="display:none; margin-top:10px;"><textarea name="generalComment18" placeholder="Please describe the issue..."></textarea></div><div class="form-group">
<label>Flooring has transition? If needed.</label>
<div class="radio-group">
<div class="radio-option">
<input name="flooringTransition" type="radio" value="yes"/>
<span class="radio-label">‚úÖ Yes</span>
</div>
<div class="radio-option">
<input name="flooringTransition" type="radio" value="no"/>
<span class="radio-label">‚ùå No</span>
</div>
<div class="radio-option">
<input name="flooringTransition" type="radio" value="na"/>
<span class="radio-label">‚ûñ N/A</span>
</div>
</div><div class="comment-box" style="display:none; margin-top:10px;"><textarea name="flooringTransitionComment1" placeholder="Please describe the issue..."></textarea></div><div class="comment-box" style="display:none; margin-top:10px;"><textarea name="flooringTransitionDetails" placeholder="Please describe the issue..."></textarea></div>
</div>
<div class="comment-box" style="display:none; margin-top:10px;"><textarea name="generalComment19" placeholder="Please describe the issue..."></textarea></div><div class="form-group">
<label>Dryer has exhaust?</label>
<div class="radio-group">
<div class="radio-option">
<input name="dryerExhaust" type="radio" value="yes"/>
<span class="radio-label">‚úÖ Yes</span>
</div>
<div class="radio-option">
<input name="dryerExhaust" type="radio" value="no"/>
<span class="radio-label">‚ùå No</span>
</div>
<div class="radio-option">
<input name="dryerExhaust" type="radio" value="na"/>
<span class="radio-label">‚ûñ N/A</span>
</div>
</div><div class="comment-box" style="display:none; margin-top:10px;"><textarea name="dryerExhaustComment1" placeholder="Please describe the issue..."></textarea></div><div class="comment-box" style="display:none; margin-top:10px;"><textarea name="dryerExhaustDetails" placeholder="Please describe the issue..."></textarea></div>
</div>
<div class="comment-box" style="display:none; margin-top:10px;"><textarea name="generalComment20" placeholder="Please describe the issue..."></textarea></div><div class="form-group">
<label>Smoke detectors installed/working?</label>
<div class="radio-group">
<div class="radio-option">
<input name="smokeDetectors" type="radio" value="yes"/>
<span class="radio-label">‚úÖ Yes</span>
</div>
<div class="radio-option">
<input name="smokeDetectors" type="radio" value="no"/>
<span class="radio-label">‚ùå No</span>
</div>
<div class="radio-option">
<input name="smokeDetectors" type="radio" value="na"/>
<span class="radio-label">‚ûñ N/A</span>
</div>
</div><div class="comment-box" style="display:none; margin-top:10px;"><textarea name="smokeDetectorsComment1" placeholder="Please describe the issue..."></textarea></div><div class="comment-box" style="display:none; margin-top:10px;"><textarea name="smokeDetectorsDetails" placeholder="Please describe the issue..."></textarea></div>
</div>
<div class="comment-box" style="display:none; margin-top:10px;"><textarea name="generalComment21" placeholder="Please describe the issue..."></textarea></div><div class="form-group">
<label>At least one CO detector on each floor</label>
<div class="radio-group">
<div class="radio-option">
<input name="coDetectors" type="radio" value="yes"/>
<span class="radio-label">‚úÖ Yes</span>
</div>
<div class="radio-option">
<input name="coDetectors" type="radio" value="no"/>
<span class="radio-label">‚ùå No</span>
</div>
<div class="radio-option">
<input name="coDetectors" type="radio" value="na"/>
<span class="radio-label">‚ûñ N/A</span>
</div>
</div><div class="comment-box" style="display:none; margin-top:10px;"><textarea name="coDetectorsComment1" placeholder="Please describe the issue..."></textarea></div><div class="comment-box" style="display:none; margin-top:10px;"><textarea name="coDetectorsDetails" placeholder="Please describe the issue..."></textarea></div>
</div>
<div class="comment-box" style="display:none; margin-top:10px;"><textarea name="generalComment22" placeholder="Please describe the issue..."></textarea></div><div class="form-group">
<label>Site is cleaned, trash is in black bags?</label>
<div class="radio-group">
<div class="radio-option">
<input name="siteCleaned" type="radio" value="yes"/>
<span class="radio-label">‚úÖ Yes</span>
</div>
<div class="radio-option">
<input name="siteCleaned" type="radio" value="no"/>
<span class="radio-label">‚ùå No</span>
</div>
<div class="radio-option">
<input name="siteCleaned" type="radio" value="na"/>
<span class="radio-label">‚ûñ N/A</span>
</div>
</div><div class="comment-box" style="display:none; margin-top:10px;"><textarea name="siteCleanedComment1" placeholder="Please describe the issue..."></textarea></div><div class="comment-box" style="display:none; margin-top:10px;"><textarea name="siteCleanedDetails" placeholder="Please describe the issue..."></textarea></div>
</div>
<div class="comment-box" style="display:none; margin-top:10px;"><textarea name="generalComment23" placeholder="Please describe the issue..."></textarea></div><div class="form-group">
<label>Attic &amp; basement have no trash? Can be merged with no trash at site?</label>
<div class="radio-group">
<div class="radio-option">
<input name="atticBasementClean" type="radio" value="yes"/>
<span class="radio-label">‚úÖ Yes</span>
</div>
<div class="radio-option">
<input name="atticBasementClean" type="radio" value="no"/>
<span class="radio-label">‚ùå No</span>
</div>
<div class="radio-option">
<input name="atticBasementClean" type="radio" value="na"/>
<span class="radio-label">‚ûñ N/A</span>
</div>
</div><div class="comment-box" style="display:none; margin-top:10px;"><textarea name="atticBasementCleanComment1" placeholder="Please describe the issue..."></textarea></div><div class="comment-box" style="display:none; margin-top:10px;"><textarea name="atticBasementCleanDetails" placeholder="Please describe the issue..."></textarea></div>
</div>
<div class="comment-box" style="display:none; margin-top:10px;"><textarea name="generalComment24" placeholder="Please describe the issue..."></textarea></div><div class="form-group">
<label>Ecobee thermostats?</label>
<div class="radio-group">
<div class="radio-option">
<input name="ecobeeThermostats" type="radio" value="yes"/>
<span class="radio-label">‚úÖ Yes</span>
</div>
<div class="radio-option">
<input name="ecobeeThermostats" type="radio" value="no"/>
<span class="radio-label">‚ùå No</span>
</div>
<div class="radio-option">
<input name="ecobeeThermostats" type="radio" value="na"/>
<span class="radio-label">‚ûñ N/A</span>
</div>
</div><div class="comment-box" style="display:none; margin-top:10px;"><textarea name="ecobeeThermostatsComment1" placeholder="Please describe the issue..."></textarea></div><div class="comment-box" style="display:none; margin-top:10px;"><textarea name="ecobeeThermostatsDetails" placeholder="Please describe the issue..."></textarea></div>
</div>
<div class="comment-box" style="display:none; margin-top:10px;"><textarea name="generalComment25" placeholder="Please describe the issue..."></textarea></div><div class="form-group">
<label>Ring Doorbell installed? (N/A if not applicable)</label>
<div class="radio-group">
<div class="radio-option">
<input name="ringDoorbell" type="radio" value="yes"/>
<span class="radio-label">‚úÖ Yes</span>
</div>
<div class="radio-option">
<input name="ringDoorbell" type="radio" value="no"/>
<span class="radio-label">‚ùå No</span>
</div>
<div class="radio-option">
<input name="ringDoorbell" type="radio" value="na"/>
<span class="radio-label">‚ûñ N/A</span>
</div>
</div><div class="comment-box" style="display:none; margin-top:10px;"><textarea name="ringDoorbellComment1" placeholder="Please describe the issue..."></textarea></div><div class="comment-box" style="display:none; margin-top:10px;"><textarea name="ringDoorbellDetails" placeholder="Please describe the issue..."></textarea></div>
</div>
<div class="comment-box" style="display:none; margin-top:10px;"><textarea name="generalComment26" placeholder="Please describe the issue..."></textarea></div><div class="form-group">
<label>Is the doorbell functioning?</label>
<div class="radio-group">
<div class="radio-option">
<input name="doorbellFunctioning" type="radio" value="yes"/>
<span class="radio-label">‚úÖ Yes</span>
</div>
<div class="radio-option">
<input name="doorbellFunctioning" type="radio" value="no"/>
<span class="radio-label">‚ùå No</span>
</div>
<div class="radio-option">
<input name="doorbellFunctioning" type="radio" value="na"/>
<span class="radio-label">‚ûñ N/A</span>
</div>
</div><div class="comment-box" style="display:none; margin-top:10px;"><textarea name="doorbellFunctioningComment1" placeholder="Please describe the issue..."></textarea></div><div class="comment-box" style="display:none; margin-top:10px;"><textarea name="doorbellFunctioningDetails" placeholder="Please describe the issue..."></textarea></div>
</div>
<div class="comment-box" style="display:none; margin-top:10px;"><textarea name="generalComment27" placeholder="Please describe the issue..."></textarea></div><div class="form-group">
<label>Garage door works? Opens and close?</label>
<div class="radio-group">
<div class="radio-option">
<input name="garageDoor" type="radio" value="yes"/>
<span class="radio-label">‚úÖ Yes</span>
</div>
<div class="radio-option">
<input name="garageDoor" type="radio" value="no"/>
<span class="radio-label">‚ùå No</span>
</div>
<div class="radio-option">
<input name="garageDoor" type="radio" value="na"/>
<span class="radio-label">‚ûñ N/A</span>
</div>
</div><div class="comment-box" style="display:none; margin-top:10px;"><textarea name="garageDoorComment1" placeholder="Please describe the issue..."></textarea></div><div class="comment-box" style="display:none; margin-top:10px;"><textarea name="garageDoorDetails" placeholder="Please describe the issue..."></textarea></div>
</div>
<div class="comment-box" style="display:none; margin-top:10px;"><textarea name="generalComment28" placeholder="Please describe the issue..."></textarea></div><div class="form-group">
<label>Are there garage openers?</label>
<div class="radio-group">
<div class="radio-option">
<input name="garageOpeners" type="radio" value="yes"/>
<span class="radio-label">‚úÖ Yes</span>
</div>
<div class="radio-option">
<input name="garageOpeners" type="radio" value="no"/>
<span class="radio-label">‚ùå No</span>
</div>
<div class="radio-option">
<input name="garageOpeners" type="radio" value="na"/>
<span class="radio-label">‚ûñ N/A</span>
</div>
</div><div class="comment-box" style="display:none; margin-top:10px;"><textarea name="garageOpenersComment1" placeholder="Please describe the issue..."></textarea></div><div class="comment-box" style="display:none; margin-top:10px;"><textarea name="garageOpenersDetails" placeholder="Please describe the issue..."></textarea></div>
</div>
<div class="comment-box" style="display:none; margin-top:10px;"><textarea name="generalComment29" placeholder="Please describe the issue..."></textarea></div><div class="form-group">
<label>A/C filters replaced/clean?</label>
<div class="radio-group">
<div class="radio-option">
<input name="acFilters" type="radio" value="yes"/>
<span class="radio-label">‚úÖ Yes</span>
</div>
<div class="radio-option">
<input name="acFilters" type="radio" value="no"/>
<span class="radio-label">‚ùå No</span>
</div>
<div class="radio-option">
<input name="acFilters" type="radio" value="na"/>
<span class="radio-label">‚ûñ N/A</span>
</div>
</div><div class="comment-box" style="display:none; margin-top:10px;"><textarea name="acFiltersComment1" placeholder="Please describe the issue..."></textarea></div><div class="comment-box" style="display:none; margin-top:10px;"><textarea name="acFiltersDetails" placeholder="Please describe the issue..."></textarea></div>
</div>
<div class="comment-box" style="display:none; margin-top:10px;"><textarea name="generalComment30" placeholder="Please describe the issue..."></textarea></div><div class="form-group">
<label>AC cools/Heater blows warm?</label>
<div class="radio-group">
<div class="radio-option">
<input name="hvac" type="radio" value="yes"/>
<span class="radio-label">‚úÖ Yes</span>
</div>
<div class="radio-option">
<input name="hvac" type="radio" value="no"/>
<span class="radio-label">‚ùå No</span>
</div>
<div class="radio-option">
<input name="hvac" type="radio" value="na"/>
<span class="radio-label">‚ûñ N/A</span>
</div>
</div><div class="comment-box" style="display:none; margin-top:10px;"><textarea name="hvacComment1" placeholder="Please describe the issue..."></textarea></div><div class="comment-box" style="display:none; margin-top:10px;"><textarea name="hvacDetails" placeholder="Please describe the issue..."></textarea></div>
</div>
<div class="comment-box" style="display:none; margin-top:10px;"><textarea name="generalComment31" placeholder="Please describe the issue..."></textarea></div><div class="form-group">
<label>Fridge water filter replaced if needed?</label>
<div class="radio-group">
<div class="radio-option">
<input name="fridgeWaterFilter" type="radio" value="yes"/>
<span class="radio-label">‚úÖ Yes</span>
</div>
<div class="radio-option">
<input name="fridgeWaterFilter" type="radio" value="no"/>
<span class="radio-label">‚ùå No</span>
</div>
<div class="radio-option">
<input name="fridgeWaterFilter" type="radio" value="na"/>
<span class="radio-label">‚ûñ N/A</span>
</div>
</div><div class="comment-box" style="display:none; margin-top:10px;"><textarea name="fridgeWaterFilterComment1" placeholder="Please describe the issue..."></textarea></div><div class="comment-box" style="display:none; margin-top:10px;"><textarea name="fridgeWaterFilterDetails" placeholder="Please describe the issue..."></textarea></div>
</div>
<div class="comment-box" style="display:none; margin-top:10px;"><textarea name="generalComment32" placeholder="Please describe the issue..."></textarea></div><div class="form-group">
<label>Property has Trash bin?</label>
<div class="radio-group">
<div class="radio-option">
<input name="trashBin" type="radio" value="yes"/>
<span class="radio-label">‚úÖ Yes</span>
</div>
<div class="radio-option">
<input name="trashBin" type="radio" value="no"/>
<span class="radio-label">‚ùå No</span>
</div>
<div class="radio-option">
<input name="trashBin" type="radio" value="na"/>
<span class="radio-label">‚ûñ N/A</span>
</div>
</div><div class="comment-box" style="display:none; margin-top:10px;"><textarea name="trashBinComment1" placeholder="Please describe the issue..."></textarea></div><div class="comment-box" style="display:none; margin-top:10px;"><textarea name="trashBinDetails" placeholder="Please describe the issue..."></textarea></div>
</div>
<div class="comment-box" style="display:none; margin-top:10px;"><textarea name="generalComment33" placeholder="Please describe the issue..."></textarea></div><div class="form-group">
<label>Property has Recycle bin?</label>
<div class="radio-group">
<div class="radio-option">
<input name="recycleBin" type="radio" value="yes"/>
<span class="radio-label">‚úÖ Yes</span>
</div>
<div class="radio-option">
<input name="recycleBin" type="radio" value="no"/>
<span class="radio-label">‚ùå No</span>
</div>
<div class="radio-option">
<input name="recycleBin" type="radio" value="na"/>
<span class="radio-label">‚ûñ N/A</span>
</div>
</div><div class="comment-box" style="display:none; margin-top:10px;"><textarea name="recycleBinComment1" placeholder="Please describe the issue..."></textarea></div><div class="comment-box" style="display:none; margin-top:10px;"><textarea name="recycleBinDetails" placeholder="Please describe the issue..."></textarea></div>
</div>
<div class="comment-box" style="display:none; margin-top:10px;"><textarea name="generalComment34" placeholder="Please describe the issue..."></textarea></div></div>
<div class="form-group">
<label>General Property Notes:</label>
<textarea name="generalPropertyNotes" placeholder="Add any additional notes, observations, or details about the general property inspection..."></textarea>
</div>
</div>
<div class="comment-box" style="display:none; margin-top:10px;"><textarea name="generalComment35" placeholder="Please describe the issue..."></textarea></div><!-- Dynamic Room Sections -->
<div id="roomSections"></div>
<!-- Media Upload Section -->
<div class="section">
<div class="section-header">
<div class="section-icon">üì∏</div>
<h2>Photos &amp; Videos</h2>
</div>
<div class="form-group">
<label>Upload inspection photos and videos:</label>
<div class="upload-area" id="uploadArea">
<div class="upload-icon">üìÅ</div>
<div class="upload-text">Drag and drop files here, or click to select</div>
<div class="upload-hint">Supports: JPG, PNG, GIF, MP4, MOV, AVI (Max 50MB per file)</div>
<input accept="image/*,video/*" id="mediaFiles" multiple="" style="display: none;" type="file"/>
</div>
<div class="file-list" id="fileList"></div>
</div>
<div class="comment-box" style="display:none; margin-top:10px;"><textarea name="generalComment36" placeholder="Please describe the issue..."></textarea></div><div class="form-group">
<label>Media Notes/Descriptions:</label>
<textarea name="mediaNotes" placeholder="Describe the uploaded photos/videos, any issues captured, or additional context..."></textarea>
</div>
</div>
<div class="comment-box" style="display:none; margin-top:10px;"><textarea name="generalComment37" placeholder="Please describe the issue..."></textarea></div><div class="submit-section">
<button class="submit-btn" type="submit">Submit Inspection</button>
</div>
</form>
</div>
</div>
<div class="comment-box" style="display:none; margin-top:10px;"><textarea name="generalComment38" placeholder="Please describe the issue..."></textarea></div></div>
<script>
        let uploadedFiles = [];

        function generateRoomSections() {
            const bedrooms = parseInt(document.getElementById('bedrooms').value) || 0;
            const bathrooms = parseInt(document.getElementById('bathrooms').value) || 0;
            const container = document.getElementById('roomSections');
            
            let html = '';
            
            // Generate bedroom sections with enhanced questions
            for (let i = 1; i <= bedrooms; i++) {
                html += `
                    <div class="section">
                        <div class="section-header">
                            <div class="section-icon">üõèÔ∏è</div>
                            <h2>Bedroom ${i}</h2>
                        </div>
                        
                        <div class="form-grid">
                            <div class="form-group">
                                <label>Lights work?</label>
                                <div class="radio-group">
                                    <div class="radio-option">
                                        <input type="radio" name="bedroom${i}Lights" value="yes">
                                        <span class="radio-label">‚úÖ Yes</span>
                                    </div>
                                    <div class="radio-option">
                                        <input type="radio" name="bedroom${i}Lights" value="no">
                                        <span class="radio-label">‚ùå No</span>
                                    </div>
                                    <div class="radio-option">
                                        <input type="radio" name="bedroom${i}Lights" value="na">
                                        <span class="radio-label">‚ûñ N/A</span>
                                    </div>
                                </div>
                            <div class="comment-box" style="display:none; margin-top:10px;"><textarea placeholder="Please describe the issue..."></textarea></div></div>

                            <div class="form-group">
                                <label>Outlets work?</label>
                                <div class="radio-group">
                                    <div class="radio-option">
                                        <input type="radio" name="bedroom${i}Outlets" value="yes">
                                        <span class="radio-label">‚úÖ Yes</span>
                                    </div>
                                    <div class="radio-option">
                                        <input type="radio" name="bedroom${i}Outlets" value="no">
                                        <span class="radio-label">‚ùå No</span>
                                    </div>
                                    <div class="radio-option">
                                        <input type="radio" name="bedroom${i}Outlets" value="na">
                                        <span class="radio-label">‚ûñ N/A</span>
                                    </div>
                                </div>
                            <div class="comment-box" style="display:none; margin-top:10px;"><textarea placeholder="Please describe the issue..."></textarea></div></div>

                            <div class="form-group">
                                <label>Windows work?</label>
                                <div class="radio-group">
                                    <div class="radio-option">
                                        <input type="radio" name="bedroom${i}Windows" value="yes">
                                        <span class="radio-label">‚úÖ Yes</span>
                                    </div>
                                    <div class="radio-option">
                                        <input type="radio" name="bedroom${i}Windows" value="no">
                                        <span class="radio-label">‚ùå No</span>
                                    </div>
                                    <div class="radio-option">
                                        <input type="radio" name="bedroom${i}Windows" value="na">
                                        <span class="radio-label">‚ûñ N/A</span>
                                    </div>
                                </div>
                            <div class="comment-box" style="display:none; margin-top:10px;"><textarea placeholder="Please describe the issue..."></textarea></div></div>

                            <div class="form-group">
                                <label>Closet doors work?</label>
                                <div class="radio-group">
                                    <div class="radio-option">
                                        <input type="radio" name="bedroom${i}ClosetDoors" value="yes">
                                        <span class="radio-label">‚úÖ Yes</span>
                                    </div>
                                    <div class="radio-option">
                                        <input type="radio" name="bedroom${i}ClosetDoors" value="no">
                                        <span class="radio-label">‚ùå No</span>
                                    </div>
                                    <div class="radio-option">
                                        <input type="radio" name="bedroom${i}ClosetDoors" value="na">
                                        <span class="radio-label">‚ûñ N/A</span>
                                    </div>
                                </div>
                            <div class="comment-box" style="display:none; margin-top:10px;"><textarea placeholder="Please describe the issue..."></textarea></div></div>

                            <div class="form-group">
                                <label>Ceiling fan works (if present)?</label>
                                <div class="radio-group">
                                    <div class="radio-option">
                                        <input type="radio" name="bedroom${i}CeilingFan" value="yes">
                                        <span class="radio-label">‚úÖ Yes</span>
                                    </div>
                                    <div class="radio-option">
                                        <input type="radio" name="bedroom${i}CeilingFan" value="no">
                                        <span class="radio-label">‚ùå No</span>
                                    </div>
                                    <div class="radio-option">
                                        <input type="radio" name="bedroom${i}CeilingFan" value="na">
                                        <span class="radio-label">‚ûñ N/A</span>
                                    </div>
                                </div>
                            <div class="comment-box" style="display:none; margin-top:10px;"><textarea placeholder="Please describe the issue..."></textarea></div></div>

                            <div class="form-group">
                                <label>Flooring in good condition (no damage, stains, or loose areas)?</label>
                                <div class="radio-group">
                                    <div class="radio-option">
                                        <input type="radio" name="bedroom${i}Flooring" value="yes">
                                        <span class="radio-label">‚úÖ Yes</span>
                                    </div>
                                    <div class="radio-option">
                                        <input type="radio" name="bedroom${i}Flooring" value="no">
                                        <span class="radio-label">‚ùå No</span>
                                    </div>
                                    <div class="radio-option">
                                        <input type="radio" name="bedroom${i}Flooring" value="na">
                                        <span class="radio-label">‚ûñ N/A</span>
                                    </div>
                                </div>
                            <div class="comment-box" style="display:none; margin-top:10px;"><textarea placeholder="Please describe the issue..."></textarea></div></div>

                            <div class="form-group">
                                <label>Air conditioning/heating vents clear and working?</label>
                                <div class="radio-group">
                                    <div class="radio-option">
                                        <input type="radio" name="bedroom${i}HVAC" value="yes">
                                        <span class="radio-label">‚úÖ Yes</span>
                                    </div>
                                    <div class="radio-option">
                                        <input type="radio" name="bedroom${i}HVAC" value="no">
                                        <span class="radio-label">‚ùå No</span>
                                    </div>
                                    <div class="radio-option">
                                        <input type="radio" name="bedroom${i}HVAC" value="na">
                                        <span class="radio-label">‚ûñ N/A</span>
                                    </div>
                                </div>
                            <div class="comment-box" style="display:none; margin-top:10px;"><textarea placeholder="Please describe the issue..."></textarea></div></div>

                            <div class="form-group">
                                <label>Walls and ceilings in good condition (no cracks, holes, or damage)?</label>
                                <div class="radio-group">
                                    <div class="radio-option">
                                        <input type="radio" name="bedroom${i}WallsCeiling" value="yes">
                                        <span class="radio-label">‚úÖ Yes</span>
                                    </div>
                                    <div class="radio-option">
                                        <input type="radio" name="bedroom${i}WallsCeiling" value="no">
                                        <span class="radio-label">‚ùå No</span>
                                    </div>
                                    <div class="radio-option">
                                        <input type="radio" name="bedroom${i}WallsCeiling" value="na">
                                        <span class="radio-label">‚ûñ N/A</span>
                                    </div>
                                </div>
                            <div class="comment-box" style="display:none; margin-top:10px;"><textarea placeholder="Please describe the issue..."></textarea></div></div>
                        </div>

                        <div class="comment-box" style="display:none; margin-top:10px;"><textarea placeholder="Please describe the issue..."></textarea></div><div class="form-group">
                            <label>Bedroom ${i} Notes:</label>
                            <textarea name="bedroom${i}Notes" placeholder="Add any specific notes, issues, or observations for Bedroom ${i}..."></textarea>
                        </div>
                    </div>
                <div class="comment-box" style="display:none; margin-top:10px;"><textarea placeholder="Please describe the issue..."></textarea></div>`;
            }
            
            // Generate bathroom sections with enhanced questions
            for (let i = 1; i <= bathrooms; i++) {
                html += `
                    <div class="section">
                        <div class="section-header">
                            <div class="section-icon">üöø</div>
                            <h2>Bathroom ${i}</h2>
                        </div>
                        
                        <div class="form-grid">
                            <div class="form-group">
                                <label>Lights work?</label>
                                <div class="radio-group">
                                    <div class="radio-option">
                                        <input type="radio" name="bathroom${i}Lights" value="yes">
                                        <span class="radio-label">‚úÖ Yes</span>
                                    </div>
                                    <div class="radio-option">
                                        <input type="radio" name="bathroom${i}Lights" value="no">
                                        <span class="radio-label">‚ùå No</span>
                                    </div>
                                    <div class="radio-option">
                                        <input type="radio" name="bathroom${i}Lights" value="na">
                                        <span class="radio-label">‚ûñ N/A</span>
                                    </div>
                                </div>
                            <div class="comment-box" style="display:none; margin-top:10px;"><textarea placeholder="Please describe the issue..."></textarea></div></div>

                            <div class="form-group">
                                <label>Outlets work (GFCI protected)?</label>
                                <div class="radio-group">
                                    <div class="radio-option">
                                        <input type="radio" name="bathroom${i}Outlets" value="yes">
                                        <span class="radio-label">‚úÖ Yes</span>
                                    </div>
                                    <div class="radio-option">
                                        <input type="radio" name="bathroom${i}Outlets" value="no">
                                        <span class="radio-label">‚ùå No</span>
                                    </div>
                                    <div class="radio-option">
                                        <input type="radio" name="bathroom${i}Outlets" value="na">
                                        <span class="radio-label">‚ûñ N/A</span>
                                    </div>
                                </div>
                            <div class="comment-box" style="display:none; margin-top:10px;"><textarea placeholder="Please describe the issue..."></textarea></div></div>

                            <div class="form-group">
                                <label>Toilet flushes properly and no leaks?</label>
                                <div class="radio-group">
                                    <div class="radio-option">
                                        <input type="radio" name="bathroom${i}Toilet" value="yes">
                                        <span class="radio-label">‚úÖ Yes</span>
                                    </div>
                                    <div class="radio-option">
                                        <input type="radio" name="bathroom${i}Toilet" value="no">
                                        <span class="radio-label">‚ùå No</span>
                                    </div>
                                    <div class="radio-option">
                                        <input type="radio" name="bathroom${i}Toilet" value="na">
                                        <span class="radio-label">‚ûñ N/A</span>
                                    </div>
                                </div>
                            <div class="comment-box" style="display:none; margin-top:10px;"><textarea placeholder="Please describe the issue..."></textarea></div></div>

                            <div class="form-group">
                                <label>Sink and faucet work properly?</label>
                                <div class="radio-group">
                                    <div class="radio-option">
                                        <input type="radio" name="bathroom${i}Sink" value="yes">
                                        <span class="radio-label">‚úÖ Yes</span>
                                    </div>
                                    <div class="radio-option">
                                        <input type="radio" name="bathroom${i}Sink" value="no">
                                        <span class="radio-label">‚ùå No</span>
                                    </div>
                                    <div class="radio-option">
                                        <input type="radio" name="bathroom${i}Sink" value="na">
                                        <span class="radio-label">‚ûñ N/A</span>
                                    </div>
                                </div>
                            <div class="comment-box" style="display:none; margin-top:10px;"><textarea placeholder="Please describe the issue..."></textarea></div></div>

                            <div class="form-group">
                                <label>Shower/tub works with good water pressure?</label>
                                <div class="radio-group">
                                    <div class="radio-option">
                                        <input type="radio" name="bathroom${i}ShowerTub" value="yes">
                                        <span class="radio-label">‚úÖ Yes</span>
                                    </div>
                                    <div class="radio-option">
                                        <input type="radio" name="bathroom${i}ShowerTub" value="no">
                                        <span class="radio-label">‚ùå No</span>
                                    </div>
                                    <div class="radio-option">
                                        <input type="radio" name="bathroom${i}ShowerTub" value="na">
                                        <span class="radio-label">‚ûñ N/A</span>
                                    </div>
                                </div>
                            <div class="comment-box" style="display:none; margin-top:10px;"><textarea placeholder="Please describe the issue..."></textarea></div></div>

                            <div class="form-group">
                                <label>Exhaust fan works?</label>
                                <div class="radio-group">
                                    <div class="radio-option">
                                        <input type="radio" name="bathroom${i}ExhaustFan" value="yes">
                                        <span class="radio-label">‚úÖ Yes</span>
                                    </div>
                                    <div class="radio-option">
                                        <input type="radio" name="bathroom${i}ExhaustFan" value="no">
                                        <span class="radio-label">‚ùå No</span>
                                    </div>
                                    <div class="radio-option">
                                        <input type="radio" name="bathroom${i}ExhaustFan" value="na">
                                        <span class="radio-label">‚ûñ N/A</span>
                                    </div>
                                </div>
                            <div class="comment-box" style="display:none; margin-top:10px;"><textarea placeholder="Please describe the issue..."></textarea></div></div>

                            <div class="form-group">
                                <label>Caulking and grout in good condition?</label>
                                <div class="radio-group">
                                    <div class="radio-option">
                                        <input type="radio" name="bathroom${i}Caulking" value="yes">
                                        <span class="radio-label">‚úÖ Yes</span>
                                    </div>
                                    <div class="radio-option">
                                        <input type="radio" name="bathroom${i}Caulking" value="no">
                                        <span class="radio-label">‚ùå No</span>
                                    </div>
                                    <div class="radio-option">
                                        <input type="radio" name="bathroom${i}Caulking" value="na">
                                        <span class="radio-label">‚ûñ N/A</span>
                                    </div>
                                </div>
                            <div class="comment-box" style="display:none; margin-top:10px;"><textarea placeholder="Please describe the issue..."></textarea></div></div>

                            <div class="form-group">
                                <label>Flooring in good condition (no water damage or loose tiles)?</label>
                                <div class="radio-group">
                                    <div class="radio-option">
                                        <input type="radio" name="bathroom${i}Flooring" value="yes">
                                        <span class="radio-label">‚úÖ Yes</span>
                                    </div>
                                    <div class="radio-option">
                                        <input type="radio" name="bathroom${i}Flooring" value="no">
                                        <span class="radio-label">‚ùå No</span>
                                    </div>
                                    <div class="radio-option">
                                        <input type="radio" name="bathroom${i}Flooring" value="na">
                                        <span class="radio-label">‚ûñ N/A</span>
                                    </div>
                                </div>
                            <div class="comment-box" style="display:none; margin-top:10px;"><textarea placeholder="Please describe the issue..."></textarea></div></div>
                        </div>

                        <div class="comment-box" style="display:none; margin-top:10px;"><textarea placeholder="Please describe the issue..."></textarea></div><div class="form-group">
                            <label>Bathroom ${i} Notes:</label>
                            <textarea name="bathroom${i}Notes" placeholder="Add any specific notes, issues, or observations for Bathroom ${i}..."></textarea>
                        </div>
                    </div>
                <div class="comment-box" style="display:none; margin-top:10px;"><textarea placeholder="Please describe the issue..."></textarea></div>`;
            }
            
            container.innerHTML = html;
            
            // Add event listeners for radio buttons
            addRadioButtonListeners();
            updateProgress();
            bindCommentBoxListeners();
        }

        function addRadioButtonListeners() {
            const radioOptions = document.querySelectorAll('.radio-option');
            radioOptions.forEach(option => {
                option.addEventListener('click', function() {
                    const radio = this.querySelector('input[type="radio"]');
                    const radioGroup = this.parentNode;
                    
                    // Remove selected class from all options in this group
                    radioGroup.querySelectorAll('.radio-option').forEach(opt => {
                        opt.classList.remove('selected');
                    });
                    
                    // Add selected class to clicked option
                    this.classList.add('selected');
                    radio.checked = true;
                    
                    updateProgress();
                });
            });
        }

        function updateProgress() {
            const allRadioGroups = document.querySelectorAll('.radio-group');
            let completedCount = 0;
            
            allRadioGroups.forEach(group => {
                const checkedRadio = group.querySelector('input[type="radio"]:checked');
                if (checkedRadio) {
                    completedCount++;
                }
            });
            
            const totalCount = allRadioGroups.length;
            const progressPercent = totalCount > 0 ? Math.round((completedCount / totalCount) * 100) : 0;
            
            // Update progress bar
            const progressBar = document.getElementById('progressBar');
            if (progressBar) {
                progressBar.style.width = progressPercent + '%';
            }
            
            // Update stats
            const completionStats = document.getElementById('completionStats');
            if (completionStats && totalCount > 0) {
                completionStats.style.display = 'flex';
                document.getElementById('completedCount').textContent = completedCount;
                document.getElementById('totalCount').textContent = totalCount;
                document.getElementById('progressPercent').textContent = progressPercent + '%';
            }
        }

        // File upload functionality
        function initializeFileUpload() {
            const uploadArea = document.getElementById('uploadArea');
            const fileInput = document.getElementById('mediaFiles');
            const fileList = document.getElementById('fileList');

            // Click to upload
            uploadArea.addEventListener('click', () => fileInput.click());

            // Drag and drop
            uploadArea.addEventListener('dragover', (e) => {
                e.preventDefault();
                uploadArea.classList.add('dragover');
            });

            uploadArea.addEventListener('dragleave', () => {
                uploadArea.classList.remove('dragover');
            });

            uploadArea.addEventListener('drop', (e) => {
                e.preventDefault();
                uploadArea.classList.remove('dragover');
                const files = Array.from(e.dataTransfer.files);
                handleFiles(files);
            });

            fileInput.addEventListener('change', (e) => {
                const files = Array.from(e.target.files);
                handleFiles(files);
            });

            function handleFiles(files) {
                files.forEach(file => {
                    if (file.size <= 50 * 1024 * 1024) { // 50MB limit
                        uploadedFiles.push(file);
                        addFileToList(file);
                    } else {
                        alert(`File "${file.name}" is too large. Maximum size is 50MB.`);
                    }
                });
            }

            function addFileToList(file) {
                const fileItem = document.createElement('div');
                fileItem.className = 'file-item';
                fileItem.innerHTML = `
                    <div class="file-info">
                        <div class="file-type-icon">${getFileIcon(file.type)}</div>
                        <div class="file-details">
                            <div class="file-name">${file.name}</div>
                            <div class="file-size">${formatFileSize(file.size)}</div>
                        </div>
                    <div class="comment-box" style="display:none; margin-top:10px;"><textarea placeholder="Please describe the issue..."></textarea></div></div>
                    <button class="remove-file" onclick="removeFile('${file.name}')">Remove</button>
                `;
                fileList.appendChild(fileItem);
            }

            function getFileIcon(fileType) {
                if (fileType.startsWith('image/')) return 'üñºÔ∏è';
                if (fileType.startsWith('video/')) return 'üé•';
                return 'üìÑ';
            }

            function formatFileSize(bytes) {
                if (bytes === 0) return '0 Bytes';
                const k = 1024;
                const sizes = ['Bytes', 'KB', 'MB', 'GB'];
                const i = Math.floor(Math.log(bytes) / Math.log(k));
                return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];
            }
        }

        function removeFile(fileName) {
            uploadedFiles = uploadedFiles.filter(file => file.name !== fileName);
            const fileList = document.getElementById('fileList');
            const fileItems = fileList.querySelectorAll('.file-item');
            fileItems.forEach(item => {
                if (item.querySelector('.file-name').textContent === fileName) {
                    item.remove();
                }
            });
        }

        // Form submission
        function handleFormSubmit(e) {
            e.preventDefault();
            
            // Validate required fields
            const requiredFields = document.querySelectorAll('.required-field input, .required-field select');
            let isValid = true;
            
            requiredFields.forEach(field => {
                const formGroup = field.closest('.form-group');
                const errorMessage = formGroup.querySelector('.error-message');
                
                if (!field.value) {
                    formGroup.classList.add('error');
                    if (errorMessage) errorMessage.style.display = 'block';
                    isValid = false;
                } else {
                    formGroup.classList.remove('error');
                    if (errorMessage) errorMessage.style.display = 'none';
                }
            });
            
            if (isValid) {
                // Collect form data
                const formData = new FormData(e.target);
                
                // Add uploaded files
                uploadedFiles.forEach(file => {
                    formData.append('uploadedFiles[]', file);
                });
                
                // Here you would normally send the data to a server
                
    // Convert FormData to plain object
    const plainData = Object.fromEntries(formData.entries());

    // Send data to n8n webhook
    fetch('https://primary-production-f6af0.up.railway.app/webhook-test/property_inspection_form', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify(plainData)
    })
    .then(response => response.json())
    .then(data => {
        alert('Inspection submitted successfully!');
        console.log('Success:', data);
    })
    .catch((error) => {
        console.error('Error:', error);
        alert('Error submitting form. Please try again.');
    });
    } else {
                alert('Please fill in all required fields before submitting.');
            }
        }

        // Initialize everything when DOM is loaded
        document.addEventListener('DOMContentLoaded', function() {
            // Set today's date as default
            const today = new Date().toISOString().split('T')[0];
            document.getElementById('inspectionDate').value = today;
            
            // Initialize file upload
            initializeFileUpload();
            
            // Add form submit handler
            document.getElementById('inspectionForm').addEventListener('submit', handleFormSubmit);
            
            // Add radio button listeners for existing elements
            addRadioButtonListeners();
            
            // Initial progress update
            updateProgress();
            bindCommentBoxListeners();
        });

        // Get query parameter value
        function getQueryParam(name) {
            const urlParams = new URLSearchParams(window.location.search);
            return urlParams.get(name) || '';
        }

        document.addEventListener('DOMContentLoaded', function () {
            // Bedrooms (number input)
            const bedroomsValue = getQueryParam('bedrooms');
            if (bedroomsValue) {
                const bedroomsField = document.querySelector('#bedrooms');
                if (bedroomsField) {
                    bedroomsField.value = bedroomsValue;
                    // Trigger the room generation after setting value
                    generateRoomSections();
                }
            }

            // Bathrooms (number input)
            const bathroomsValue = getQueryParam('bathrooms');
            if (bathroomsValue) {
                const bathroomsField = document.querySelector('#bathrooms');
                if (bathroomsField) {
                    bathroomsField.value = bathroomsValue;
                    // Trigger the room generation after setting value
                    generateRoomSections();
                }
            }

            // Property Address (text field)
            const addressValue = getQueryParam('address');
            if (addressValue) {
                const addressField = document.querySelector('#propertyAddress');
                if (addressField) addressField.value = decodeURIComponent(addressValue);
            }

            // Slack channel (if you have this field)
            const channelValue = getQueryParam('channel');
            if (channelValue) {
                const channelField = document.querySelector('[name="channel"]');
                if (channelField) channelField.value = channelValue;
            }
        });

    
    

document.addEventListener("DOMContentLoaded", function () {
    const allGroups = document.querySelectorAll('.form-group');
    allGroups.forEach(group => {
        const noRadio = group.querySelector('input[type="radio"][value="no"]');
        const commentBox = group.querySelector('.comment-box');
        if (noRadio && commentBox) {
            const radios = group.querySelectorAll('input[type="radio"]');
            radios.forEach(radio => {
                radio.addEventListener('change', function () {
                    if (this.value === 'no') {
                        commentBox.style.display = 'block';
                    } else {
                        commentBox.style.display = 'none';
                    }
                });
            });
        }
    });
});

/* ---- Delegated comment-box toggle: no edits to existing code ---- */
document.addEventListener('click', function (e) {
    const option = e.target.closest('.radio-option');
    if (!option) return;
    const group = option.closest('.form-group');
    if (!group) return;
    const commentBox = group.querySelector('.comment-box');
    if (!commentBox) return;
    const selected = group.querySelector('input[type="radio"]:checked');
    commentBox.style.display = (selected && selected.value === 'no') ? 'block' : 'none';
});

// Also handle keyboard/label-driven selection
document.addEventListener('change', function (e) {
    if (!e.target.matches('input[type="radio"]')) return;
    const group = e.target.closest('.form-group');
    if (!group) return;
    const commentBox = group.querySelector('.comment-box');
    if (!commentBox) return;
    commentBox.style.display = (e.target.value === 'no') ? 'block' : 'none';
});

// Initialize once on load
document.addEventListener('DOMContentLoaded', function () {
    document.querySelectorAll('.form-group').forEach(group => {
        const commentBox = group.querySelector('.comment-box');
        if (!commentBox) return;
        const selected = group.querySelector('input[type="radio"]:checked');
        commentBox.style.display = (selected && selected.value === 'no') ? 'block' : 'none';
    });
});


function bindCommentBoxListeners() {
    document.querySelectorAll('.form-group').forEach(group => {
        const commentBox = group.querySelector('.comment-box');
        if (!commentBox) return;
        group.querySelectorAll('input[type="radio"]').forEach(radio => {
            radio.addEventListener('change', function () {
                commentBox.style.display = (this.value === 'no') ? 'block' : 'none';
            });
        });
    });
}

</script>
</body>
</html>
